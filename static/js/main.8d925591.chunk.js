(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(294)},132:function(e,t,a){},292:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Home",function(){return he});var r={};a.r(r),a.d(r,"Board",function(){return Ce});var s={};a.r(s),a.d(s,"Answers",function(){return De});var o={};a.r(o),a.d(o,"Login",function(){return Le});var i=a(0),c=a.n(i),l=a(18),u=a.n(l),m=a(112),d=a(299),h=a(16),p=a(30),g=a(121),f=a(115),v={messages:[{text:"Lorem ipsum dolor sit amet!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:40:24",author:"user1",receiver:"user2"},{text:"Pellentesque porta elit eget enim maximus eleifend.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:48:27",author:"user3",receiver:"user1"},{text:"Donec viverra, risus vel condimentum dictum",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:42:26",author:"user2",receiver:"user3"},{text:"Pellentesque eget nulla blandit, molestie nisi id, luctus arcu.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:45:15",author:"user1",receiver:"user2"},{text:"Duis ligula lacus, rutrum in orci a, auctor sagittis felis.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:44:35",author:"user2",receiver:"user1"},{text:"Pellentesque lobortis ex lectus.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:41:21",author:"user3",receiver:"user2"},{text:"Ut convallis cursus fringilla.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:46:25",author:"user2",receiver:"user3"},{text:"Ut vitae velit sollicitudin, finibus dui vitae, cursus nisl.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:43:24",author:"user1",receiver:"user3"},{text:"Sed ultricies eleifend ornare.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:41:22",author:"user3",receiver:"user1"},{text:"Etiam ultrices felis sollicitudin mauris tristique ac a elit.",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:45:25",author:"user3",receiver:"user2"}]},b={authorized:!1,login:""},E={showDrawer:!1},w=Object(p.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return Object(f.a)({},e,{messages:Object(g.a)(e.messages).concat([t.message])});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{authorized:!0,login:t.payload.login};case"LOGIN_FAILED":return{authorized:!1,login:"",token:""};default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;switch((arguments.length>1?arguments[1]:void 0).type){case"SWITCH_DRAWER":return{showDrawer:!e.showDrawer};default:return e}}}),y=(a(132),a(22)),x=a(23),j=a(25),O=a(24),S=a(26),C=a(298),N=a(291),k=a(9),D=a(31),z=a.n(D),I=a(19),P=a.n(I),M=function(){return(new Date).toLocaleDateString("ru",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},A=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){a.setState({message:e.currentTarget.value})},a.handleSubmit=function(){var e=a.props,t=e.sendMessage,n=e.login;t({text:a.state.message,date:M(),author:n,receiver:null}),a.setState({message:""})},a.state={message:""},a}return Object(S.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.message;return c.a.createElement("div",{className:e.content},c.a.createElement("div",{className:e.toolbar}),c.a.createElement(z.a,{onChange:this.handleChange,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:t}),c.a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))}}]),t}(i.Component),W=Object(k.withStyles)(function(e){return{content:{flexGrow:1,padding:3*e.spacing.unit},toolbar:e.mixins.toolbar}})(A),L=Object(h.b)(function(e){return{login:e.user.login}},function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(W),q=a(27),R=a(81),T=a.n(R),U=a(80),_=a.n(U),G=a(79),Y=a.n(G),B=a(296),H=a(60),F=a.n(H),J=a(61),$=a.n(J),K=function(e){var t=e.name,a=e.path,n=e.close,r=window.location.hash;return c.a.createElement(F.a,{selected:r==="#".concat(a),button:!0,component:B.a,to:a,onClick:n},c.a.createElement($.a,{primary:t}))},Q=a(78),V=a.n(Q),X=Object(k.withStyles)(function(e){return{toolbar:e.mixins.toolbar}})(function(e){var t=e.classes,a=e.authorized,n=e.user,r=e.close;return c.a.createElement("div",null,c.a.createElement("div",{className:t.toolbar}),c.a.createElement(Y.a,null),a&&c.a.createElement(F.a,{button:!0},c.a.createElement($.a,null,n)),!a&&c.a.createElement(K,{name:"\u0412\u043e\u0439\u0442\u0438",path:"/login",close:r}),c.a.createElement(Y.a,null),c.a.createElement(V.a,{component:"nav"},c.a.createElement(K,{name:"\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",path:"/",close:r}),c.a.createElement(K,{name:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",path:"/messenger",close:r}),c.a.createElement(K,{name:"\u041e\u0442\u0432\u0435\u0442\u044b",path:"/answers",close:r})))}),Z=Object(k.withStyles)(function(e){return{drawer:Object(q.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),drawerPaper:{width:300}}})(function(e){var t=e.classes,a=e.show,n=e.switchDrawer,r=e.user,s=e.authorized;return c.a.createElement("div",{className:t.drawer},c.a.createElement(_.a,{xsDown:!0,implementation:"css"},c.a.createElement(T.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},c.a.createElement(X,{user:r,authorized:s}))),c.a.createElement(_.a,{smUp:!0,implementation:"css"},c.a.createElement(T.a,{variant:"temporary",open:a,classes:{paper:t.drawerPaper},onClose:n},c.a.createElement(X,{user:r,authorized:s,close:n}))))}),ee=Object(h.b)(function(e){return{show:e.settings.showDrawer,user:e.user.login,authorized:e.user.authorized}},function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(Z),te=a(116),ae=a.n(te),ne=a(117),re=a.n(ne),se=a(118),oe=a.n(se),ie=a(32),ce=a.n(ie),le=a(119),ue=a.n(le),me=Object(k.withStyles)(function(e){return{root:Object(q.a)({marginLeft:300},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)")}),header:{flexGrow:1},menuButton:Object(q.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"})}})(function(e){var t=e.classes,a=e.switchDrawer,n=e.title;return c.a.createElement(ae.a,{className:t.root,position:"fixed"},c.a.createElement(re.a,null,c.a.createElement(oe.a,{color:"inherit","aria-label":"Menu",className:t.menuButton,onClick:a},c.a.createElement(ue.a,null)),c.a.createElement(ce.a,{variant:"title",color:"inherit",className:t.header},n)))}),de=Object(h.b)(null,function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(me),he=Object(k.withStyles)({root:{display:"flex"}})(function(e){var t=e.classes;return c.a.createElement("div",{className:t.root},c.a.createElement(de,{title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),c.a.createElement(ee,null),c.a.createElement(L,null))}),pe={components:n},ge=a(43),fe=a.n(ge),ve=a(120),be=a.n(ve),Ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).handleInput=function(e){a.setState({message:e.currentTarget.value})},a.changeEditable=function(){a.setState({editable:!a.state.editable})},a.handleSubmit=function(){(0,a.props.sendMessage)({text:a.state.message,date:M(),author:a.props.author,receiver:a.props.message.author}),a.setState({editable:!1,message:""})},a.responseControl=function(e){var t=a.props,n=t.authorized,r=t.classes,s=t.author,o=a.state,i=o.editable,l=o.message;if(a.isNotYourMessage(e,s)&&n)return c.a.createElement("div",{className:r.response},i&&c.a.createElement(z.a,{onChange:a.handleInput,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:l}),i&&c.a.createElement(P.a,{variant:"contained",color:"primary",onClick:a.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),!i&&c.a.createElement(P.a,{color:"primary",onClick:a.changeEditable},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"))},a.isNotYourMessage=function(e,t){return e!==t},a.state={editable:!1,message:""},a}return Object(S.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.classes,n=e.forYou,r=Math.floor(8*Math.random()+1);return c.a.createElement(fe.a,{className:n?a.forYou:a.root},c.a.createElement("div",{className:a.header},c.a.createElement("div",{className:a.userInfo},c.a.createElement(be.a,{className:a.avatar,alt:"Adelle Charles",src:"http://lorempixel.com/output/cats-q-c-40-40-".concat(r,".jpg")}),c.a.createElement(ce.a,{variant:"h6"},t.author)),c.a.createElement(ce.a,{variant:"caption"},t.date)),c.a.createElement(ce.a,{variant:"headline"},t.receiver?"".concat(t.receiver,", "):void 0,t.text),this.responseControl(t.author))}}]),t}(i.Component),we=Object(k.withStyles)({root:{margin:5,padding:10,display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},forYou:{margin:5,padding:10,display:"flex",flexDirection:"column",backgroundColor:"#b2d8b3"},userInfo:{display:"flex",alignItems:"center"},avatar:{marginRight:5,width:25,height:25},response:{display:"flex",alignItems:"baseline"}})(Ee),ye=Object(h.b)(null,function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(we),xe=Object(k.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0 5px"}})(function(e){var t=e.classes,a=e.next,n=e.prev,r=e.current;return c.a.createElement("div",{className:t.root},c.a.createElement(P.a,{variant:"contained",color:"primary",onClick:n},"\u0421\u044e\u0434\u0430"),r,c.a.createElement(P.a,{variant:"contained",color:"primary",onClick:a},"\u0422\u0443\u0434\u0430"))}),je=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).nextPage=function(e){var t=a.state,n=t.currentPage,r=t.rows,s=n+1;s<=Math.ceil(e/r)&&a.setState({currentPage:s})},a.prevPage=function(){var e=a.state.currentPage-1;e>=1&&a.setState({currentPage:e})},a.getAllMessages=function(e,t,n){var r=a.state,s=r.currentPage,o=r.rows;return a.paginate(e,o,s).map(function(e){return a.isUsersMessage(e.receiver,t)?c.a.createElement(ye,{key:e.text,message:e,authorized:n,forYou:!0,author:t}):c.a.createElement(ye,{key:e.text,message:e,authorized:n,author:t})})},a.getUserMessages=function(e,t,n){var r=a.state,s=r.currentPage,o=r.rows,i=e.filter(function(e){return a.isUsersMessage(e.receiver,t)});return a.paginate(i,o,s).map(function(e){return c.a.createElement(ye,{key:e.text,message:e,authorized:n,forYou:!0,author:t})})},a.isUsersMessage=function(e,t){return e===t},a.state={currentPage:1,rows:7},a}return Object(S.a)(t,e),Object(x.a)(t,[{key:"paginate",value:function(e,t,a){return--a,e.slice(a*t,(a+1)*t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.messages,r=t.receiver,s=t.authorized,o=t.all,i=this.state.currentPage,l=o?this.getAllMessages(n,r,s):this.getUserMessages(n,r,s),u=o?n.length:l.length;return c.a.createElement("div",{className:a.root},c.a.createElement("div",null,l),c.a.createElement(xe,{total:u,next:function(){return e.nextPage(u)},prev:this.prevPage,current:i}))}}]),t}(i.Component),Oe=Object(k.withStyles)(function(){return{root:{display:"flex",flexDirection:"column",height:"calc(100vh - 67px)",justifyContent:"space-between"}}})(je),Se=Object(k.withStyles)(function(e){return{root:{display:"flex"},messages:{width:"100%"},toolbar:e.mixins.toolbar,content:{display:"flex",flexDirection:"column",height:"calc(100vh - 67px)",justifyContent:"space-between"}}})(function(e){var t=e.classes,a=e.messages,n=e.receiver,r=e.authorized;return c.a.createElement("div",{className:t.root},c.a.createElement(de,{title:"\u0421\u0442\u0435\u043d\u0430"}),c.a.createElement(ee,null),c.a.createElement("div",{className:t.messages},c.a.createElement("div",{className:t.toolbar}),c.a.createElement(Oe,{messages:a,receiver:n,authorized:r,all:!0})))}),Ce=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(Se),Ne={components:r},ke=Object(k.withStyles)(function(e){return{root:{display:"flex"},messages:{width:"100%"},toolbar:e.mixins.toolbar,content:{display:"flex",flexDirection:"column",height:"calc(100vh - 67px)",justifyContent:"space-between"}}})(function(e){var t=e.classes,a=e.messages,n=e.receiver,r=e.authorized;return c.a.createElement("div",{className:t.root},c.a.createElement(de,{title:"\u041e\u0442\u0432\u0435\u0442\u044b"}),c.a.createElement(ee,null),c.a.createElement("div",{className:t.messages},c.a.createElement("div",{className:t.toolbar}),c.a.createElement(Oe,{messages:a,receiver:n,authorized:r})))}),De=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(ke),ze={components:s},Ie=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Pe=function(e){return{type:"LOGIN_FAILED",payload:e}},Me=a(300),Ae=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(q.a)({},e.currentTarget.name,e.currentTarget.value))},a.handleSubmit=function(){(0,a.props.logIn)({login:a.state.login,password:a.state.password},function(){return a.setState({redirectToPreviousRoute:!0})})},a.state={login:"",password:"",redirectToPreviousRoute:!1},a}return Object(S.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location,n=this.state,r=n.login,s=n.password,o=n.redirectToPreviousRoute,i=(a.state||{from:{pathname:"/"}}).from;return o?c.a.createElement(Me.a,{to:i}):c.a.createElement("div",{className:t.root},c.a.createElement(de,{title:"\u0412\u043e\u0439\u0442\u0438"}),c.a.createElement(ee,null),c.a.createElement("div",{className:t.content},c.a.createElement("div",{className:t.toolbar}),c.a.createElement("div",{className:t.form},c.a.createElement(z.a,{name:"login",onChange:this.handleChange,fullWidth:!0,required:!0,id:"login-required",label:"\u041b\u043e\u0433\u0438\u043d",margin:"normal",value:r,variant:"outlined"}),c.a.createElement(z.a,{name:"password",onChange:this.handleChange,fullWidth:!0,required:!0,id:"password-required",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"normal",value:s,type:"password",variant:"outlined"}),c.a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(i.Component),We=Object(k.withStyles)(function(e){return{root:{display:"flex"},content:{width:"100%",textAlign:"center"},toolbar:e.mixins.toolbar,form:{maxWidth:230,display:"inline-block"}}})(Ae),Le=Object(h.b)(null,function(e){return{logIn:function(t,a){return e(function(e,t){return function(a){var n=function(e){var t={user1:{password:"lol"},user2:{password:"lol"},user3:{password:"lol"}},a=e.login,n=e.password;return a in t&&t[a].password===n?{status:200,text:"Success!",login:a}:{status:400,text:"Login or password are wrong!"}}(e);switch(n.status){case 200:a(Ie(n)),t();break;case 400:default:a(Pe(n))}}}(t,a))}}})(We),qe={components:o},Re=Object(k.withStyles)({root:{textAlign:"center",width:"100%",height:"100vh",display:"flex",backgroundColor:"#252525",justifyContent:"center",flexDirection:"column",alignContent:"center",alignItems:"center"},link:{display:"block"}})(function(e){var t=e.classes;return c.a.createElement("div",{className:t.root},c.a.createElement("img",{src:"/404.png"}),c.a.createElement(B.a,{to:"/",className:t.link},c.a.createElement(P.a,{variant:"contained",color:"primary"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))}),Te=a(122),Ue=a(297),_e=Object(h.b)(function(e){return{isAuth:e.user.authorized}},null)(function(e){var t=e.component,a=Object(Te.a)(e,["component"]);return c.a.createElement(Ue.a,Object.assign({},a,{render:function(e){return a.isAuth?c.a.createElement(t,e):c.a.createElement(Me.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Ge=(a(292),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(C.a,null,c.a.createElement(N.a,{exact:!0,path:"/",component:Ne.components.Board,title:"asd"}),c.a.createElement(_e,{path:"/messenger",component:pe.components.Home}),c.a.createElement(_e,{path:"/answers",component:ze.components.Answers}),c.a.createElement(N.a,{exact:!0,path:"/login",component:qe.components.Login}),c.a.createElement(N.a,{component:Re})))}}]),t}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=[m.a],Be=Object(p.d)(w,p.a.apply(void 0,Ye));u.a.render(c.a.createElement(h.a,{store:Be},c.a.createElement(d.a,null,c.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,2,1]]]);
//# sourceMappingURL=main.8d925591.chunk.js.map