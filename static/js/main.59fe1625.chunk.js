(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(294)},132:function(e,t,a){},292:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"Home",function(){return he});var n={};a.r(n),a.d(n,"Board",function(){return Ce});var s={};a.r(s),a.d(s,"Answers",function(){return De});var o={};a.r(o),a.d(o,"Login",function(){return Le});var c=a(0),l=a.n(c),i=a(18),u=a.n(i),m=a(112),d=a(299),h=a(16),p=a(30),g=a(121),v=a(115),f={messages:[{text:"Hi dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:24",author:"user1",receiver:"user2"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"}]},b={authorized:!1,login:""},E={showDrawer:!1},w=Object(p.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return Object(v.a)({},e,{messages:Object(g.a)(e.messages).concat([t.message])});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{authorized:!0,login:t.payload.login};case"LOGIN_FAILED":return{authorized:!1,login:"",token:""};default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;switch((arguments.length>1?arguments[1]:void 0).type){case"SWITCH_DRAWER":return{showDrawer:!e.showDrawer};default:return e}}}),y=(a(132),a(19)),j=a(20),O=a(22),x=a(21),S=a(23),C=a(298),N=a(291),k=a(14),P=a(31),D=a.n(P),z=a(26),I=a.n(z),M=function(){return(new Date).toLocaleDateString("ru",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},H=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState({message:e.currentTarget.value})},a.handleSubmit=function(){var e=a.props,t=e.sendMessage,r=e.login;t({text:a.state.message,date:M(),author:r,receiver:null}),a.setState({message:""})},a.state={message:""},a}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.message;return l.a.createElement("div",{className:e.content},l.a.createElement("div",{className:e.toolbar}),l.a.createElement(D.a,{onChange:this.handleChange,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:t}),l.a.createElement(I.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))}}]),t}(c.Component),A=Object(k.withStyles)(function(e){return{content:{flexGrow:1,padding:3*e.spacing.unit},toolbar:e.mixins.toolbar}})(H),W=Object(h.b)(function(e){return{login:e.user.login}},function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(A),L=a(27),R=a(81),Y=a.n(R),T=a(80),_=a.n(T),G=a(79),F=a.n(G),q=a(296),B=a(59),U=a.n(B),J=a(60),$=a.n(J),K=function(e){var t=e.name,a=e.path,r=window.location.hash;return l.a.createElement(U.a,{selected:r==="#".concat(a),button:!0,component:q.a,to:a},l.a.createElement($.a,{primary:t}))},Q=a(78),V=a.n(Q),X=Object(k.withStyles)(function(e){return{toolbar:e.mixins.toolbar}})(function(e){var t=e.classes,a=e.authorized,r=e.user;return l.a.createElement("div",null,l.a.createElement("div",{className:t.toolbar}),l.a.createElement(F.a,null),a&&l.a.createElement(U.a,{button:!0},l.a.createElement($.a,null,r)),!a&&l.a.createElement(K,{name:"\u0412\u043e\u0439\u0442\u0438",path:"/login"}),l.a.createElement(F.a,null),l.a.createElement(V.a,{component:"nav"},l.a.createElement(K,{name:"\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",path:"/"}),l.a.createElement(K,{name:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",path:"/messenger"}),l.a.createElement(K,{name:"\u041e\u0442\u0432\u0435\u0442\u044b",path:"/answers"})))}),Z=Object(k.withStyles)(function(e){return{drawer:Object(L.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),drawerPaper:{width:300}}})(function(e){var t=e.classes,a=e.show,r=e.switchDrawer,n=e.user,s=e.authorized;return l.a.createElement("div",{className:t.drawer},l.a.createElement(_.a,{xsDown:!0,implementation:"css"},l.a.createElement(Y.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},l.a.createElement(X,{user:n,authorized:s}))),l.a.createElement(_.a,{smUp:!0,implementation:"css"},l.a.createElement(Y.a,{variant:"temporary",open:a,classes:{paper:t.drawerPaper},onClose:r},l.a.createElement(X,{user:n,authorized:s}))))}),ee=Object(h.b)(function(e){return{show:e.settings.showDrawer,user:e.user.login,authorized:e.user.authorized}},function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(Z),te=a(116),ae=a.n(te),re=a(117),ne=a.n(re),se=a(118),oe=a.n(se),ce=a(32),le=a.n(ce),ie=a(119),ue=a.n(ie),me=Object(k.withStyles)(function(e){return{root:Object(L.a)({marginLeft:300},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)")}),header:{flexGrow:1},menuButton:Object(L.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"})}})(function(e){var t=e.classes,a=e.switchDrawer;return l.a.createElement(ae.a,{className:t.root,position:"fixed"},l.a.createElement(ne.a,null,l.a.createElement(oe.a,{color:"inherit","aria-label":"Menu",className:t.menuButton,onClick:a},l.a.createElement(ue.a,null)),l.a.createElement(le.a,{variant:"title",color:"inherit",className:t.header},"\u0421\u0442\u0435\u043d\u0430")))}),de=Object(h.b)(null,function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(me),he=Object(k.withStyles)({root:{display:"flex"}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement(de,null),l.a.createElement(ee,null),l.a.createElement(W,null))}),pe={components:r},ge=a(43),ve=a.n(ge),fe=a(120),be=a.n(fe),Ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).handleInput=function(e){a.setState({message:e.currentTarget.value})},a.changeEditable=function(){a.setState({editable:!a.state.editable})},a.handleSubmit=function(){(0,a.props.sendMessage)({text:a.state.message,date:M(),author:a.props.author,receiver:a.props.message.author}),a.setState({editable:!1,message:""})},a.responseControl=function(e){var t=a.props,r=t.authorized,n=t.classes,s=t.author,o=a.state,c=o.editable,i=o.message;if(a.isNotYourMessage(e,s)&&r)return l.a.createElement("div",{className:n.response},c&&l.a.createElement(D.a,{onChange:a.handleInput,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:i}),c&&l.a.createElement(I.a,{variant:"contained",color:"primary",onClick:a.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),!c&&l.a.createElement(I.a,{color:"primary",onClick:a.changeEditable},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"))},a.isNotYourMessage=function(e,t){return e!==t},a.state={editable:!1,message:""},a}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.classes,r=e.forYou;return l.a.createElement(ve.a,{className:r?a.forYou:a.root},l.a.createElement("div",{className:a.header},l.a.createElement("div",{className:a.userInfo},l.a.createElement(be.a,{className:a.avatar,alt:"Adelle Charles",src:"https://cataas.com/cat"}),l.a.createElement(le.a,{variant:"h6"},t.author)),l.a.createElement(le.a,{variant:"caption"},t.date)),l.a.createElement(le.a,{variant:"headline"},t.receiver?"".concat(t.receiver,", "):void 0,t.text),this.responseControl(t.author))}}]),t}(c.Component),we=Object(k.withStyles)({root:{margin:5,padding:10,display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},forYou:{margin:5,padding:10,display:"flex",flexDirection:"column",backgroundColor:"#b2d8b3"},userInfo:{display:"flex",alignItems:"center"},avatar:{marginRight:5,width:25,height:25},response:{display:"flex",alignItems:"baseline"}})(Ee),ye=Object(h.b)(null,function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(we),je=Object(k.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}})(function(e){var t=e.classes,a=e.next,r=e.prev,n=e.current;return l.a.createElement("div",{className:t.root},l.a.createElement(I.a,{variant:"contained",color:"primary",onClick:r},"\u0421\u044e\u0434\u0430"),n,l.a.createElement(I.a,{variant:"contained",color:"primary",onClick:a},"\u0422\u0443\u0434\u0430"))}),Oe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).nextPage=function(){var e=a.state,t=e.currentPage,r=e.rows,n=a.props.messages,s=t+1;s<=Math.ceil(n.length/r)&&a.setState({currentPage:s})},a.prevPage=function(){var e=a.state.currentPage-1;e>=1&&a.setState({currentPage:e})},a.renderMessages=function(e,t,r){for(var n=a.state,s=n.currentPage,o=n.rows,c=[],i=(s-1)*o;i<s*o&&i<e.length;i++){var u=e[i];a.isMessageForYou(u.receiver,t)?c.push(l.a.createElement(ye,{key:i,message:u,authorized:r,forYou:!0,author:t})):c.push(l.a.createElement(ye,{key:i,message:u,authorized:r,author:t}))}return c},a.isMessageForYou=function(e,t){return e===t},a.state={currentPage:1,rows:9},a}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.messages,r=e.receiver,n=e.authorized,s=this.state.currentPage,o=a.length;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.toolbar}),l.a.createElement("div",{className:t.content},l.a.createElement("div",null,this.renderMessages(a,r,n)),l.a.createElement(je,{total:o,next:this.nextPage,prev:this.prevPage,current:s})))}}]),t}(c.Component),xe=Object(k.withStyles)(function(e){return{root:{width:"100%"},toolbar:e.mixins.toolbar,content:{display:"flex",flexDirection:"column",height:"calc(100vh - 67px)",justifyContent:"space-between"}}})(Oe),Se=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(xe),Ce=Object(k.withStyles)({root:{display:"flex"}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement(de,null),l.a.createElement(ee,null),l.a.createElement(Se,null))}),Ne={components:n},ke=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).nextPage=function(){var e=a.state,t=e.currentPage,r=e.rows,n=a.props.messages,s=t+1;s<=Math.ceil(n.length/r)&&a.setState({currentPage:s})},a.prevPage=function(){var e=a.state.currentPage-1;e>=1&&a.setState({currentPage:e})},a.renderMessages=function(e,t,r){for(var n=a.state,s=n.currentPage,o=n.rows,c=[],i=(s-1)*o;i<s*o&&i<e.length;i++){var u=e[i];a.isMessageForYou(u.receiver,t)?c.push(l.a.createElement(ye,{key:i,message:u,authorized:r,forYou:!0,author:t})):c.push(l.a.createElement(ye,{key:i,message:u,authorized:r,author:t}))}return c},a.isMessageForYou=function(e,t){return e===t},a.state={currentPage:1,rows:7},a}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.messages,r=e.receiver,n=e.authorized,s=this.state.currentPage,o=a.length;return l.a.createElement("div",{className:t.root},l.a.createElement(de,null),l.a.createElement(ee,null),l.a.createElement("div",{className:t.messages},l.a.createElement("div",{className:t.toolbar}),l.a.createElement("div",{className:t.content},l.a.createElement("div",null,this.renderMessages(a,r,n)),l.a.createElement(je,{total:o,next:this.nextPage,prev:this.prevPage,current:s}))))}}]),t}(c.Component),Pe=Object(k.withStyles)(function(e){return{root:{display:"flex"},messages:{width:"100%"},toolbar:e.mixins.toolbar,content:{display:"flex",flexDirection:"column",height:"calc(100vh - 67px)",justifyContent:"space-between"}}})(ke),De=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(Pe),ze={components:s},Ie=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Me=function(e){return{type:"LOGIN_FAILED",payload:e}},He=a(300),Ae=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.currentTarget.name,e.currentTarget.value))},a.handleSubmit=function(){(0,a.props.logIn)({login:a.state.login,password:a.state.password},function(){return a.setState({redirectToPreviousRoute:!0})})},a.state={login:"",password:"",redirectToPreviousRoute:!1},a}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location,r=this.state,n=r.login,s=r.password,o=r.redirectToPreviousRoute,c=(a.state||{from:{pathname:"/"}}).from;return o?l.a.createElement(He.a,{to:c}):l.a.createElement("div",{className:t.root},l.a.createElement(de,null),l.a.createElement(ee,null),l.a.createElement("div",{className:t.content},l.a.createElement("div",{className:t.toolbar}),l.a.createElement("div",{className:t.form},l.a.createElement(D.a,{name:"login",onChange:this.handleChange,fullWidth:!0,required:!0,id:"login-required",label:"\u041b\u043e\u0433\u0438\u043d",margin:"normal",value:n,variant:"outlined"}),l.a.createElement(D.a,{name:"password",onChange:this.handleChange,fullWidth:!0,required:!0,id:"password-required",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"normal",value:s,type:"password",variant:"outlined"}),l.a.createElement(I.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(c.Component),We=Object(k.withStyles)(function(e){return{root:{display:"flex"},content:{width:"100%",textAlign:"center"},toolbar:e.mixins.toolbar,form:{maxWidth:230,display:"inline-block"}}})(Ae),Le=Object(h.b)(null,function(e){return{logIn:function(t,a){return e(function(e,t){return function(a){var r=function(e){var t={user1:{password:"lol"},user2:{password:"lol"},user3:{password:"lol"}},a=e.login,r=e.password;return a in t&&t[a].password===r?{status:200,text:"Success!",login:a}:{status:400,text:"Login or password are wrong!"}}(e);switch(r.status){case 200:a(Ie(r)),t();break;case 400:default:a(Me(r))}}}(t,a))}}})(We),Re={components:o},Ye=function(){return l.a.createElement("div",null,"NotFound")},Te=a(122),_e=a(297),Ge=Object(h.b)(function(e){return{isAuth:e.user.authorized}},null)(function(e){var t=e.component,a=Object(Te.a)(e,["component"]);return l.a.createElement(_e.a,Object.assign({},a,{render:function(e){return a.isAuth?l.a.createElement(t,e):l.a.createElement(He.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Fe=(a(292),function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(C.a,null,l.a.createElement(N.a,{exact:!0,path:"/",component:Ne.components.Board}),l.a.createElement(Ge,{path:"/messenger",component:pe.components.Home}),l.a.createElement(Ge,{path:"/answers",component:ze.components.Answers}),l.a.createElement(N.a,{exact:!0,path:"/login",component:Re.components.Login}),l.a.createElement(N.a,{component:Ye})))}}]),t}(c.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=[m.a],Be=Object(p.d)(w,p.a.apply(void 0,qe));u.a.render(l.a.createElement(h.a,{store:Be},l.a.createElement(d.a,null,l.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,2,1]]]);
//# sourceMappingURL=main.59fe1625.chunk.js.map