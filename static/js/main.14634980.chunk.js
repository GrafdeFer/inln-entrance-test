(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(294)},132:function(e,t,a){},292:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Home",function(){return he});var r={};a.r(r),a.d(r,"Board",function(){return xe});var o={};a.r(o),a.d(o,"Answers",function(){return De});var s={};a.r(s),a.d(s,"Login",function(){return Re});var l=a(0),i=a.n(l),c=a(18),u=a.n(c),m=a(109),d=a(299),h=a(16),p=a(29),f=a(121),g=a(112),v={messages:[{text:"Hi dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:24",author:"user1",receiver:"user2"},{text:"Hello dude!",date:"9 \u043d\u043e\u044f\u0431. 2018 \u0433., 14:49:25",author:"user3",receiver:"user1"}]},b={authorized:!1,login:""},E={showDrawer:!1},w=Object(p.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return Object(g.a)({},e,{messages:Object(f.a)(e.messages).concat([t.message])});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{authorized:!0,login:t.payload.login};case"LOGIN_FAILED":return{authorized:!1,login:"",token:""};default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;switch((arguments.length>1?arguments[1]:void 0).type){case"SWITCH_DRAWER":return{showDrawer:!e.showDrawer};default:return e}}}),y=(a(132),a(23)),O=a(24),j=a(26),S=a(25),x=a(27),N=a(298),C=a(291),k=a(14),D=a(30),I=a.n(D),z=a(31),A=a.n(z),W=function(){return(new Date).toLocaleDateString("ru",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},L=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e){a.setState({message:e.currentTarget.value})},a.handleSubmit=function(){var e=a.props,t=e.sendMessage,n=e.login;t({text:a.state.message,date:W(),author:n,receiver:null}),a.setState({message:""})},a.state={message:""},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.message;return i.a.createElement("div",{className:e.content},i.a.createElement("div",{className:e.toolbar}),i.a.createElement(I.a,{onChange:this.handleChange,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:t}),i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))}}]),t}(l.Component),M=Object(k.withStyles)(function(e){return{content:{flexGrow:1,padding:3*e.spacing.unit},toolbar:e.mixins.toolbar}})(L),R=Object(h.b)(function(e){return{login:e.user.login}},function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(M),T=a(21),_=a(78),G=a.n(_),H=a(77),q=a.n(H),B=a(115),P=a.n(B),Y=a(296),F=a(113),U=a.n(F),J=a(114),$=a.n(J),K=function(e){var t=e.name,a=e.path,n=window.location.hash;return i.a.createElement(U.a,{selected:n==="#".concat(a),button:!0,component:Y.a,to:a},i.a.createElement($.a,{primary:t}))},Q=a(76),V=a.n(Q),X=Object(k.withStyles)(function(e){return{toolbar:e.mixins.toolbar}})(function(e){var t=e.classes;return i.a.createElement("div",null,i.a.createElement("div",{className:t.toolbar}),i.a.createElement(P.a,null),i.a.createElement(V.a,{component:"nav"},i.a.createElement(K,{name:"\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",path:"/"}),i.a.createElement(K,{name:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",path:"/messenger"}),i.a.createElement(K,{name:"\u041e\u0442\u0432\u0435\u0442\u044b",path:"/answers"})))}),Z=Object(k.withStyles)(function(e){return{drawer:Object(T.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),drawerPaper:{width:300}}})(function(e){var t=e.classes,a=e.show,n=e.switchDrawer;return i.a.createElement("div",{className:t.drawer},i.a.createElement(q.a,{xsDown:!0,implementation:"css"},i.a.createElement(G.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},i.a.createElement(X,null))),i.a.createElement(q.a,{smUp:!0,implementation:"css"},i.a.createElement(G.a,{variant:"temporary",open:a,classes:{paper:t.drawerPaper},onClose:n},i.a.createElement(X,null))))}),ee=Object(h.b)(function(e){return{show:e.settings.showDrawer}},function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(Z),te=a(116),ae=a.n(te),ne=a(117),re=a.n(ne),oe=a(118),se=a.n(oe),le=a(32),ie=a.n(le),ce=a(119),ue=a.n(ce),me=Object(k.withStyles)(function(e){return{root:Object(T.a)({marginLeft:300},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)")}),header:{flexGrow:1},menuButton:Object(T.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"})}})(function(e){var t=e.classes,a=e.switchDrawer;return i.a.createElement(ae.a,{className:t.root,position:"fixed"},i.a.createElement(re.a,null,i.a.createElement(se.a,{color:"inherit","aria-label":"Menu",className:t.menuButton,onClick:a},i.a.createElement(ue.a,null)),i.a.createElement(ie.a,{variant:"title",color:"inherit",className:t.header},"Messages")))}),de=Object(h.b)(null,function(e){return{switchDrawer:function(){return e({type:"SWITCH_DRAWER"})}}})(me),he=Object(k.withStyles)({root:{display:"flex"}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(de,null),i.a.createElement(ee,null),i.a.createElement(R,null))}),pe={components:n},fe=a(43),ge=a.n(fe),ve=a(120),be=a.n(ve),Ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).handleInput=function(e){a.setState({message:e.currentTarget.value})},a.changeEditable=function(){a.setState({editable:!a.state.editable})},a.handleSubmit=function(){(0,a.props.sendMessage)({text:a.state.message,date:W(),author:a.props.author,receiver:a.props.message.author}),a.setState({editable:!1,message:""})},a.responseControl=function(e){var t=a.props,n=t.authorized,r=t.classes,o=t.author,s=a.state,l=s.editable,c=s.message;if(a.isNotYourMessage(e,o)&&n)return i.a.createElement("div",{className:r.response},l&&i.a.createElement(I.a,{onChange:a.handleInput,fullWidth:!0,id:"standard-required",label:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",margin:"normal",value:c}),l&&i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:a.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),!l&&i.a.createElement(A.a,{color:"primary",onClick:a.changeEditable},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"))},a.isNotYourMessage=function(e,t){return e!==t},a.state={editable:!1,message:""},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.classes,n=e.forYou;return i.a.createElement(ge.a,{className:n?a.forYou:a.root},i.a.createElement("div",{className:a.header},i.a.createElement("div",{className:a.userInfo},i.a.createElement(be.a,{className:a.avatar,alt:"Adelle Charles",src:"https://cataas.com/cat"}),i.a.createElement(ie.a,{variant:"h6"},t.author)),i.a.createElement(ie.a,{variant:"caption"},t.date)),i.a.createElement(ie.a,{variant:"headline"},t.receiver?"".concat(t.receiver,", "):void 0,t.text),this.responseControl(t.author))}}]),t}(l.Component),we=Object(k.withStyles)({root:{margin:5,padding:10,display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},forYou:{margin:5,padding:10,display:"flex",flexDirection:"column",backgroundColor:"#b2d8b3"},userInfo:{display:"flex",alignItems:"center"},avatar:{marginRight:5,width:25,height:25},response:{display:"flex",alignItems:"baseline"}})(Ee),ye=Object(h.b)(null,function(e){return{sendMessage:function(t){return e(function(e){return{type:"SEND_MESSAGE",message:e}}(t))}}})(we),Oe=function(e,t){return e===t},je=Object(k.withStyles)(function(e){return{root:{width:"100%"},toolbar:e.mixins.toolbar}})(function(e){var t=e.classes,a=e.messages,n=e.receiver,r=e.authorized;return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.toolbar}),i.a.createElement("div",null,function(e,t,a){return e.map(function(e){return Oe(e.receiver,t)?i.a.createElement(ye,{key:e.date,message:e,authorized:a,forYou:!0,author:t}):i.a.createElement(ye,{key:e.date,message:e,authorized:a,author:t})})}(a,n,r)))}),Se=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(je),xe=Object(k.withStyles)({root:{display:"flex"}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(de,null),i.a.createElement(ee,null),i.a.createElement(Se,null))}),Ne={components:r},Ce=function(e,t){return e===t},ke=Object(k.withStyles)(function(e){return{root:{display:"flex"},messages:{width:"100%"},toolbar:e.mixins.toolbar}})(function(e){var t=e.classes,a=e.messages,n=e.receiver,r=e.authorized;return i.a.createElement("div",{className:t.root},i.a.createElement(de,null),i.a.createElement(ee,null),i.a.createElement("div",{className:t.messages},i.a.createElement("div",{className:t.toolbar}),i.a.createElement("div",null,function(e,t,a){return e.map(function(e){if(Ce(e.receiver,t))return i.a.createElement(ye,{key:e.date,message:e,authorized:a})})}(a,n,r))))}),De=Object(h.b)(function(e){return{messages:e.messages.messages,receiver:e.user.login,authorized:e.user.authorized}},null)(ke),Ie={components:o},ze=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Ae=function(e){return{type:"LOGIN_FAILED",payload:e}},We=a(300),Le=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(T.a)({},e.currentTarget.name,e.currentTarget.value))},a.handleSubmit=function(){(0,a.props.logIn)({login:a.state.login,password:a.state.password},function(){return a.setState({redirectToPreviousRoute:!0})})},a.state={login:"",password:"",redirectToPreviousRoute:!1},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location,n=this.state,r=n.login,o=n.password,s=n.redirectToPreviousRoute,l=(a.state||{from:{pathname:"/"}}).from;return s?i.a.createElement(We.a,{to:l}):i.a.createElement("div",{className:t.root},i.a.createElement(de,null),i.a.createElement(ee,null),i.a.createElement("div",{className:t.content},i.a.createElement("div",{className:t.toolbar}),i.a.createElement("div",{className:t.form},i.a.createElement(I.a,{name:"login",onChange:this.handleChange,fullWidth:!0,required:!0,id:"login-required",label:"\u041b\u043e\u0433\u0438\u043d",margin:"normal",value:r,variant:"outlined"}),i.a.createElement(I.a,{name:"password",onChange:this.handleChange,fullWidth:!0,required:!0,id:"password-required",label:"\u041f\u0430\u0440\u043e\u043b\u044c",margin:"normal",value:o,type:"password",variant:"outlined"}),i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(l.Component),Me=Object(k.withStyles)(function(e){return{root:{display:"flex"},content:{width:"100%",textAlign:"center"},toolbar:e.mixins.toolbar,form:{maxWidth:230,display:"inline-block"}}})(Le),Re=Object(h.b)(null,function(e){return{logIn:function(t,a){return e(function(e,t){return function(a){var n=function(e){var t={user1:{password:"lol"},user2:{password:"lol"},user3:{password:"lol"}},a=e.login,n=e.password;return a in t&&t[a].password===n?{status:200,text:"Success!",login:a}:{status:400,text:"Login or password are wrong!"}}(e);switch(n.status){case 200:a(ze(n)),t();break;case 400:default:a(Ae(n))}}}(t,a))}}})(Me),Te={components:s},_e=function(){return i.a.createElement("div",null,"NotFound")},Ge=a(122),He=a(297),qe=Object(h.b)(function(e){return{isAuth:e.user.authorized}},null)(function(e){var t=e.component,a=Object(Ge.a)(e,["component"]);return i.a.createElement(He.a,Object.assign({},a,{render:function(e){return a.isAuth?i.a.createElement(t,e):i.a.createElement(We.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Be=(a(292),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(N.a,null,i.a.createElement(C.a,{exact:!0,path:"/",component:Ne.components.Board}),i.a.createElement(qe,{path:"/messenger",component:pe.components.Home}),i.a.createElement(qe,{path:"/answers",component:Ie.components.Answers}),i.a.createElement(C.a,{exact:!0,path:"/login",component:Te.components.Login}),i.a.createElement(C.a,{component:_e})))}}]),t}(l.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=[m.a],Ye=Object(p.d)(w,p.a.apply(void 0,Pe));u.a.render(i.a.createElement(h.a,{store:Ye},i.a.createElement(d.a,null,i.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,2,1]]]);
//# sourceMappingURL=main.14634980.chunk.js.map